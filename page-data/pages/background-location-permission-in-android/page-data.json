{"componentChunkName":"component---src-templates-post-template-js","path":"/pages/background-location-permission-in-android","result":{"data":{"markdownRemark":{"id":"f25f17ba-5292-5f28-95db-b0496d67d11d","html":"<p>Before the new changes to android with version 11, requesting permission for both app states background and foreground was the same, only request a single permission and everything was simple and easy, but not anymore.</p>\n<div>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 840px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/daf3403821dcfc1b47652725c3c5f226/1e088/location_permission_old.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 88.75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVQ4y41U2XLiMBDk/z+F7+ABqOIoYHchCwk5HC9lCHa8NsE6OjNCsmWvTe1UtWd0tdSasXpa6ysBBKVbDIA+Z8qA4zvGg0XPLoLtqEEZDmAdFgZs3Nc213JoJhSOswvxhU6Zd49bLv4IQ8hsRVHo/X6Pw+GAJEkQBAGOUYSY4o9jhPxvivM5Rpp+kj+TTxHROM8XQjiVsiTMskyPx2MMBgNsNhssl0v0+33sdjs8PPzGr/Xa9M1mM4PJZILVaoXRaIQ4juuEnmRj0+kU8/kci8XCYLvdGs99w+HQeN7UMydZ9qghGp1Gxul0MpLY8xVwHIZhKTPPc7fIP4zsKaUEgbKntPX4X3PzvbXthFJKUOMGTRtYcNvFHlmd0Jfs7z5/KTAjPEYSPwKBn+83rEOBVSCah60ku6R41c4Xgy+qhPyqkBHSL4UkV6bt4kZhV0khecLK9CRbeeiAvs3xrkhbX9WhL9n+SYg+Fd4+JMJY4k8i8UrxMVXleFPyP2XTnHUgwie6w3ciZOLno0SUtlbB/bKpyqcdzXm1LLclxX9tGJdC4SpU2W55baqk8KdLstFABNPnwpSLe866JDvCC6qXs/7G+act3732E1qOyzdLDn3zKFNloAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/daf3403821dcfc1b47652725c3c5f226/8ac56/location_permission_old.webp 240w,\n/static/daf3403821dcfc1b47652725c3c5f226/d3be9/location_permission_old.webp 480w,\n/static/daf3403821dcfc1b47652725c3c5f226/ed60d/location_permission_old.webp 840w\" sizes=\"(max-width: 840px) 100vw, 840px\" type=\"image/webp\">\n        <source srcset=\"/static/daf3403821dcfc1b47652725c3c5f226/8ff5a/location_permission_old.png 240w,\n/static/daf3403821dcfc1b47652725c3c5f226/e85cb/location_permission_old.png 480w,\n/static/daf3403821dcfc1b47652725c3c5f226/1e088/location_permission_old.png 840w\" sizes=\"(max-width: 840px) 100vw, 840px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/daf3403821dcfc1b47652725c3c5f226/1e088/location_permission_old.png\" alt=\"location permission old\" title=\"location permission old\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span>\n</div>\n<h4 id=\"new-changes\" style=\"position:relative;\"><a href=\"#new-changes\" aria-label=\"new changes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>New changes:</h4>\n<p>Starting from android 11 now inorder for you app to receive background location you have to request a new permission <code class=\"language-text\">android.permission.ACCESS_BACKGROUND_LOCATION</code> right after you request the normal permissions <code class=\"language-text\">android.permission.ACCESS_COARSE_LOCATION</code> or <code class=\"language-text\">android.permission.ACCESS_FINE_LOCATION</code> or both and everything will continue to work as before.</p>\n<h4 id=\"when-you-should-request-this-permission\" style=\"position:relative;\"><a href=\"#when-you-should-request-this-permission\" aria-label=\"when you should request this permission permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>When you should request this permission?</h4>\n<p>Generally when any feature of the app that require access location while in background, here are few use cases i ran into while working: </p>\n<ul>\n<li>Foreground permission started from background (i.e if the foreground service was started from broadcast receiver).</li>\n<li>Scheduled jobs that use location(workmanager jobs, alarm manager..etc).</li>\n</ul>\n<h4 id=\"example\" style=\"position:relative;\"><a href=\"#example\" aria-label=\"example permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example:</h4>\n<p>we will have a simple app that has one button, it will request normal permission (<code class=\"language-text\">ACCESS_COARSE_LOCATION</code>,<code class=\"language-text\">ACCESS_FINE_LOCATION</code>)  and <code class=\"language-text\">ACCESS_BACKGROUND_LOCATION</code> Respectively</p>\n<p><strong>lets start</strong></p>\n<p>first start by declaring the permissions in <code class=\"language-text\">AndroidManifest.xml</code> file</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>manifest</span> \n<span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>android</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://schemas.android.com/apk/res/android<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">package</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.application.example<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>uses-permission</span>\n<span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>android.permission.ACCESS_FINE_LOCATION<span class=\"token punctuation\">\"</span></span>\n <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>uses-permission</span> \n<span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>android.permission.ACCESS_COARSE_LOCATION<span class=\"token punctuation\">\"</span></span> \n<span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>uses-permission</span>\n<span class=\"token attr-name\"><span class=\"token namespace\">android:</span>name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>android.permission.ACCESS_BACKGROUND_LOCATION<span class=\"token punctuation\">\"</span></span> \n<span class=\"token punctuation\">/></span></span>\n\n    &lt;application\n    ...</code></pre></div>\n<p>now its time to request permission normally like the usuall way</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">setContentView</span><span class=\"token punctuation\">(</span>R<span class=\"token punctuation\">.</span>layout<span class=\"token punctuation\">.</span>activity_main<span class=\"token punctuation\">)</span>\n        permissionButton<span class=\"token punctuation\">.</span><span class=\"token function\">setOnClickListener</span> <span class=\"token punctuation\">{</span> \n          \n            <span class=\"token function\">requestLocationPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>and here where the magic happens</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">requestBackgroundPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//check if user have permission</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isLocationPermissionNotGranted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">//check if permission was denied before and we need to show an explanation</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">shouldShowRational</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// showRationalDialog()</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">//request permission</span>\n                <span class=\"token function\">requestLocationPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">//permission is already granted</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isAndroid11</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isBackgroundLocationPermissionNotGranted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n                    <span class=\"token function\">requestBackgroundLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// app is pre 11 and no need to request this permission</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>now lets handle what happends when user accept or decline permission dialogs</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onRequestPermissionsResult</span><span class=\"token punctuation\">(</span>\n        requestCode<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">,</span>\n        permissions<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span><span class=\"token keyword\">out</span> String<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n        grantResults<span class=\"token operator\">:</span> IntArray\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onRequestPermissionsResult</span><span class=\"token punctuation\">(</span>requestCode<span class=\"token punctuation\">,</span> permissions<span class=\"token punctuation\">,</span> grantResults<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>requestCode <span class=\"token operator\">==</span> REQUEST_CODE_LOCATION_PERMISSION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>grantResults<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">==</span>PackageManager<span class=\"token punctuation\">.</span>PERMISSION_GRANTED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">//permission granted here</span>\n                <span class=\"token comment\">//now lets request background permission</span>\n                <span class=\"token function\">requestBackgroundLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">//user denied permission, show him some dialog and take to settings</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>requestCode <span class=\"token operator\">==</span> REQUEST_CODE_BACKGROUND_LOCATION_PERMISSION<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>grantResults<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">==</span>PackageManager<span class=\"token punctuation\">.</span>PERMISSION_GRANTED<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">//background location permission is granted</span>\n            <span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">//user denied permission, show him some dialog and take to settings</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>where <code class=\"language-text\">REQUEST_CODE_LOCATION_PERMISSION</code> and <code class=\"language-text\">REQUEST_CODE_BACKGROUND_LOCATION_PERMISSION</code> are <code class=\"language-text\">int const</code> passed when we call <code class=\"language-text\">requestPermission()</code></p>\n<p>and thats it , and now will run our app and see if its working </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/177aed27cc7027910c364efad2512260/37523/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.91666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgklEQVRIx+2U3SuDURzHn1KuRLlQy8t/4UqJUqS2FlPihhJGEkr5E6SwtWHFuMKulC3tzYVEiqtxO9lKUex5nolse57zdc6Zx0ZkM5fPrz7n+6vznE+n0zmPMNh4jNHmE0y2n8HacoqOmgBMDWEY60O/YqJ0GoKYNZ9jznKBkaYjCHuuG+xvxODbisPrjmN7MQqP7Rq7BbKzFIV3M46w5xY+dwwC/rmETEaFkkcmXTzZtYTn/+9QF+pCXViIkBDCG6ISqPQ9qkqR0DVsLXdQl6A1pZbm+NihdKfi0p/KEkjhKvieWu/PZf53kYMU7qNKbofst8MqZH+BRXjATJ2E8SoRQ2UJWCtEzliliIlqEcPlCUzXSrxnTBkk9AmPWB944g4lTYXsHFhF/K+Yb5Xg6k/C0S1j2SjzdHTJsJtlOHtk2EwyVnuTcFpkzhrtF9okHK48cwdz0TOkh8qdbFDpqPL8ie/ncw5Ba1gSFdn8A5ojd20IKYlP10Z/y7pQF+rCr/UGiYnPLzbC9CYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/177aed27cc7027910c364efad2512260/8ac56/1.webp 240w,\n/static/177aed27cc7027910c364efad2512260/d3be9/1.webp 480w,\n/static/177aed27cc7027910c364efad2512260/bc514/1.webp 720w\"\n          sizes=\"(max-width: 720px) 100vw, 720px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/177aed27cc7027910c364efad2512260/8ff5a/1.png 240w,\n/static/177aed27cc7027910c364efad2512260/e85cb/1.png 480w,\n/static/177aed27cc7027910c364efad2512260/37523/1.png 720w\"\n          sizes=\"(max-width: 720px) 100vw, 720px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/177aed27cc7027910c364efad2512260/37523/1.png\"\n          alt=\"1\"\n          title=\"1\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/35ed3124ec2cce76a8182eba11b08dae/37523/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.91666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC4UlEQVRIx+VWS09TQRTuxsRE/oBxoQs3LowrojFBI0TEYADZ+CAF7IsWNDHxH7DjJ7S0v4EFC2AFLCAhhF0Jj5ICBW1LCxRbpY+583nPGS65fdxShYXGSb7O5M4535zzzZmZ2prv2tFy34nnzT48feDCzWvtuNP0CrdvdF6Mpk7cut6Brief0dv2BS33BmDrbB1AV/sHvH7pRPcLB549fIO2x+8aRuujt+jpcOJ97zB6dH+bb8QD77AOnxs+vf/4yYuR3wT5Dnld7G9zudxwm+D6A7Cv28O9zePx4CrxDxC63bqgQ0Pwer2XAnEQF0c4ODiIvr6+S6G/v19F6HA4MDo6ilAoBL/fj0AgUAa/P4DgeACh8YDFvB/BYBBjY2P6jrtgI/alpSXUa0JHQdY1we7urkqZCBcWFvhjsViEpmkMIQSE3gMS0YMCwvsFHguhldmUSiX23dzcVCkT4eLiooqESM4gpeQFCFJqKBYK7Gx8I0Ky0XhRIBKJVBMaEysrK4hGo1heXsbk5CTm5uYwPT2Nqakp7mdmZjA7O8t2RoQ1CWnFeDzOemxtbbERYXt7G6urq9jZ2eF+fX0d4XCY7ciHGtlXEVL42WwWqVQKyWQSsViMtSHHtbU1diKk02kkEglkMpn6hKSduRV03chwY2ODCUkG0s/cDA0tCQ2hFaprheYrd7pKQ6NsSGDDEJJWtoZhd2HZnEmCXF4ikiwhnhH4eiy43ztS4+Mf2lm0DaZMBZwvSSS/CxzlNKSzgsfUJ04ETn6qgresw1onRZ6nLCug5Gg4ZSMVavmi1KPScKhHSWnS+LSoJmWju1xJGDtUun07VhpmTPpZEtZKuTxtE0zpWqZsRSi4zjR9xwVyp4LH5hq0JKRLoF47yAH7Jxffh0xot9sxMTHB55cOP53fSuzvKdSaIyI69/Pz8+rGJlZ6BghOp7MmHA4F63nlzzc2/Vz5M3pVZOfP6H/2V+SvJ/wFzjcvZmOvbkIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/35ed3124ec2cce76a8182eba11b08dae/8ac56/2.webp 240w,\n/static/35ed3124ec2cce76a8182eba11b08dae/d3be9/2.webp 480w,\n/static/35ed3124ec2cce76a8182eba11b08dae/bc514/2.webp 720w\"\n          sizes=\"(max-width: 720px) 100vw, 720px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/35ed3124ec2cce76a8182eba11b08dae/8ff5a/2.png 240w,\n/static/35ed3124ec2cce76a8182eba11b08dae/e85cb/2.png 480w,\n/static/35ed3124ec2cce76a8182eba11b08dae/37523/2.png 720w\"\n          sizes=\"(max-width: 720px) 100vw, 720px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/35ed3124ec2cce76a8182eba11b08dae/37523/2.png\"\n          alt=\"2\"\n          title=\"2\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c684caf431d755291ee8c828bb6fdc02/37523/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.91666666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAADWklEQVRIx6VWXW/aMBTN/97e97Z/Ue15baVO1bpWqlTRUbVd0drx/Q0BWiiQEBI7OfMxCQshMGgtXV37Or6+x/f6OMZkMsFwOES73Uav1wNbEARLHcmmMVutVkOlUsFw0IfheR6klJjNZnAcB/u0yCHXWpYFd+7A8H0fg8FAT9Axo+33+2i1WjBNU4+73S46nY4eU9h3XXfFabPZ1I4NIYReTMeMln2GXywWtSacx8dHVGtVPS6VSigUCks0kUNuyuMz8I6WPEs2I37QcWHEFLa59GCLuVqpjiW0J51F64xNWY1sEznD58E3fOofwfRetc1PyfSKwzQIMowu73TxofQFH/8cIDMpapvwZSpcDXnTucTb91EOX82f2OXb1AiZQWa2WCrqrLbKdXSrLZ3dUrmMRqOxluWtDlljrKuyWkxdq9dQrlZ0v16vL2su1WFaht9SNqlJWUwiLJsUidk3bWxE9SaXdbejBP/WxGUFslQ7d1+FEonWUMBU/caLQFNJZ7Swm2OJ9kiipzQrPXlcRhKupe782AkwUUmc6v5CaLfmAaaOj5HtY+aG55eETK+kHpIE2eZ19AJfXTXPdWBNxphZU7iOoraZpVDKlKQkIiRuMoytyoDUdHR8jJubG2SVXF9f4+LiAvf3v3B29kMxirm4euFdTiPcEPJ+pbKNwbXD8czHXAQhyfprDuLsErWIiZI1qR0eZGxUngP1JnRxeHiE29tb5HI5XF5e4uHhAaenpxr+3d2dtl1dXeH8/Fx/c3Jyolk9FmGgo5NqA89zMZ1OYdu2FjJw9F5Q08Y+7bzLtNEZE7p6hoG/15Xbdg2XWeZufKwIJZ/PI5vNaoiUTCazhJWW4bWkEArDJgy+aFzMEuLDw034Xm9il618uCusrQ75EaNiBIyIRc2ncxus/zocj8f6TaZ+enpCtVpNfbR2kS2Q35Z1I85l5DchpCaJOEemidwwb8QZOWKPvSTB7kbEg2wvlo/qQP3rDCUKpkCpJ7TOmwvdHEo9V3uWqKjvyn2heSB+QEY8g54gsS7Iczr3dZ+apMq+NV+M7XCO4skNfw7vuXorP0txw/PUR7HHd0Tid9tDXWnCoo2aUgnHPBqRiG7NIR+puRdoGI7SrlgIF9IWzUX2tGL/Cz3s9W35B19pAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/c684caf431d755291ee8c828bb6fdc02/8ac56/3.webp 240w,\n/static/c684caf431d755291ee8c828bb6fdc02/d3be9/3.webp 480w,\n/static/c684caf431d755291ee8c828bb6fdc02/bc514/3.webp 720w\"\n          sizes=\"(max-width: 720px) 100vw, 720px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/c684caf431d755291ee8c828bb6fdc02/8ff5a/3.png 240w,\n/static/c684caf431d755291ee8c828bb6fdc02/e85cb/3.png 480w,\n/static/c684caf431d755291ee8c828bb6fdc02/37523/3.png 720w\"\n          sizes=\"(max-width: 720px) 100vw, 720px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/c684caf431d755291ee8c828bb6fdc02/37523/3.png\"\n          alt=\"3\"\n          title=\"3\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>","fields":{"slug":"/pages/background-location-permission-in-android","tagSlugs":["/tag/android/","/tag/user-location/","/tag/runtime-permissions/","/tag/android-q/"]},"frontmatter":{"date":"2020-11-27T22:40:32.169Z","description":"New changes to background permission request","tags":["Android","User Location","Runtime permissions","Android Q"],"title":"Background location permission in Android 11","socialImage":{"publicURL":"/static/6d93cbc4956a854d4c4369f0e281e7f3/42-line-bible.jpg"}}}},"pageContext":{"slug":"/pages/background-location-permission-in-android"}},"staticQueryHashes":["251939775","401334301","825871152"]}